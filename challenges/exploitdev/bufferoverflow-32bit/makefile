###
# Makefile for challenge; Just type `make` into the same directory as the challenge to compile the binary
###
CC = gcc
CFLAGS = -g -std=c89 -m32 -fno-stack-protector

CHALLENGE = bufferoverflow
TARGETS := $(sort $(shell ls . | grep $(CHALLENGE) | sed 's/.c/ /g'))


all: $(TARGETS)

$(CHALLENGE)1: $(CHALLENGE)1.c
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

$(CHALLENGE)2: $(CHALLENGE)2.c
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

$(CHALLENGE)3: $(CHALLENGE)3.c
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null 

$(CHALLENGE)4: $(CHALLENGE)4.c
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

clean:
	$(RM) $(TARGETS)
