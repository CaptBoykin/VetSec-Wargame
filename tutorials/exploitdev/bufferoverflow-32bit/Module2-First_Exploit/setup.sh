#/bin/bash

# requires -m32 for 32 bit, -fno-stack-protector for no stack canaries, and ASLR off
# gcc -m32 bufferoverflow.c -o bufferoverflow -fno-stack-protector 2>/dev/null


###
# Set up the environment for the challenge
###

aslr="off"
challenge=${PWD##*/}

setup(){
#~/scripts/toggle_aslr.sh "$aslr"

$(cd Exploit_Stuff/Argument_Method && gcc -o exploit_notesearch exploit_notesearch.c -g -std=c99 -m32)
$(cd Exploit_Stuff/Environment_Method && gcc -o get_target_program_env_addr get_target_program_env_addr.c -g -std=c99 -m32)
$(cd Vulnerable_Program/ && gcc -o notesearch notesearch.c -g -std=c99 -m32 -fno-stack-protector 2>/dev/null)
$(cd Vulnerable_Program/ && gcc -o notetaker notetaker.c -g -std=c99 -m32 -fno-stack-protector)

}

setup
