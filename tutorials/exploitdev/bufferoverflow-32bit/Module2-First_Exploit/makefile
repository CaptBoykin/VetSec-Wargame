###########################################################################################################
# Makefile for challenge; Just type `make` into the same directory as the challenge to compile the binary #
###########################################################################################################

# For an explanation of this makefile, please view my blogpost #3 at: https://veteransec.com/category/exploit-development/
CC = gcc
CFLAGS = -g -std=c89 -m32 -fno-stack-protector

CHALLENGE = note
TARGETS := $(shell find . -ipath '*note*' | sed 's/.c/ /g'))


all: $(TARGETS)

$(CHALLENGE)search:
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

$(CHALLENGE)taker:
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

exploit_$(CHALLENGE)search:
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null 

clean:
	$(RM) $(TARGETS)
