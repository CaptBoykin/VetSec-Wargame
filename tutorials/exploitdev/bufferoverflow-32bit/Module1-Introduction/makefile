###########################################################################################################
# Makefile for challenge; Just type `make` into the same directory as the challenge to compile the binary #
###########################################################################################################

# For an explanation of this makefile, please view my blogpost #3 at: https://veteransec.com/category/exploit-development/
CC = gcc
CFLAGS = -g -std=c89 -m32 -fno-stack-protector

CHALLENGE = bufferoverflow
TARGETS := $(sort $(shell ls . | grep $(CHALLENGE) | sed 's/.c/ /g'))


all: $(TARGETS)

$(CHALLENGE)1:
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

$(CHALLENGE)2:
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

$(CHALLENGE)3:
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null 

$(CHALLENGE)4:
	$(CC) -o $@ $@.c $(CFLAGS) 2>/dev/null

clean:
	$(RM) $(TARGETS)
